<!-- role-create-client.component.html -->
<div class="card">
  <!-- ðŸ”¹ Upper Section -->
  <div class="card-body border-bottom py-4">
    <div class="row align-items-center">
      <!-- Left: Dropdown -->
      <div class="col-md-4">
        <label class="form-label fw-bold">Select Role</label>
        <select class="form-select form-select-sm">
          <option *ngFor="let role of getAllRole" [value]="role.id">
            {{ role.roleName }}
          </option>
        </select>
      </div>

      <!-- Right: Textbox + Add Button -->
      <div
        class="col-md-8 d-flex align-items-end justify-content-end gap-2 mt-4 mt-md-0"
      >
        <input
          type="text"
          class="form-control form-control-sm w-50"
          placeholder="Enter new role name"
          [(ngModel)]="newRoleName"
          name="newRoleName"
        />
        <button
          type="button"
          class="btn btn-sm btn-primary"
          (click)="addRole()"
        >
          <i class="ki-outline ki-plus fs-6"></i> Add New Role
        </button>
      </div>
    </div>
  </div>

  <!-- ðŸ”¹ Lower Section (Tabs) -->
  <div class="card-body">
    <ul class="nav nav-tabs nav-line-tabs mb-5 fs-6">
      <li class="nav-item">
        <a class="nav-link active" data-bs-toggle="tab">Cloud POS</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab">VAT Pro</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-bs-toggle="tab">Sorol Soft</a>
      </li>
    </ul>

    <div class="tab-content">
      <!-- Cloud POS Tab -->
      <div class="tab-pane fade show active" id="tab_cloudpos" role="tabpanel">
        <div class="card shadow-sm">
          <div class="card-header">
            <h3 class="card-title fw-bold text-primary">
              <i class="ki-duotone ki-menu fs-2 me-2"></i> Cloud POS Menu
            </h3>
          </div>

          <div class="card-body">
            <div
              *ngFor="let parent of navListCloudPos"
              class="mb-3 border-bottom pb-2"
            >
              <!-- Parent Row -->
              <div class="d-flex align-items-center">
                <div class="form-check form-check-custom form-check-solid me-3">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    [checked]="parent.isChecked"
                    (change)="parent.isChecked = !parent.isChecked"
                  />
                </div>
                <i [class]="parent.fA_CLASS + ' fs-3 text-primary me-2'"></i>
                <span class="fw-semibold">{{ parent.description }}</span>
              </div>

              <!-- Children -->
              <div
                *ngIf="parent.children && parent.children.length > 0"
                class="ms-8 mt-2"
              >
                <div
                  *ngFor="let child of parent.children"
                  class="d-flex align-items-center mb-1"
                >
                  <div
                    class="form-check form-check-custom form-check-solid me-3"
                  >
                    <input
                      class="form-check-input"
                      type="checkbox"
                      [checked]="child.isChecked"
                      (change)="child.isChecked = !child.isChecked"
                    />
                  </div>
                  <i [class]="child.fA_CLASS + ' fs-3 text-muted me-2'"></i>
                  <span>{{ child.description }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- VAT Pro Tab -->
      <div class="tab-pane fade" id="tab_vatpro" role="tabpanel">
        <p>VAT Pro menu list goes here...</p>
      </div>

      <!-- Sorol Soft Tab -->
      <div class="tab-pane fade" id="tab_sorolsoft" role="tabpanel">
        <div class="card shadow-sm">
          <div class="card-header">
            <h3 class="card-title fw-bold text-primary">
              <i class="ki-duotone ki-menu fs-2 me-2"></i> Sorol Soft Menu
            </h3>
          </div>

          <div class="card-body">
            <div
              *ngFor="let parent of navListSorolSoft"
              class="mb-3 border-bottom pb-2"
            >
              <!-- Parent -->
              <div class="d-flex align-items-center">
                <div class="form-check form-check-custom form-check-solid me-3">
                  <!-- <input
              class="form-check-input"
              type="checkbox"
              [checked]="parent.isChecked"
              (change)="toggleCheck(parent)"
            /> -->
                </div>
                <i [class]="parent.icoClass + ' fs-3 text-primary me-2'"></i>
                <span class="fw-semibold">{{ parent.text }}</span>
              </div>

              <!-- Children -->
              <div
                *ngIf="parent.children && parent.children.length > 0"
                class="ms-8 mt-2"
              >
                <div
                  *ngFor="let child of parent.children"
                  class="d-flex align-items-center mb-1"
                >
                  <div
                    class="form-check form-check-custom form-check-solid me-3"
                  >
                    <!-- <input
                class="form-check-input"
                type="checkbox"
                [checked]="child.isChecked"
                (change)="toggleCheck(child)"
              /> -->
                  </div>
                  <i [class]="child.icoClass + ' fs-3 text-muted me-2'"></i>
                  <span>{{ child.text }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<swal #noticeSwal [swalOptions]="swalOptions"></swal>
