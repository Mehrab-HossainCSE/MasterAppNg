<div class="card shadow-sm">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h3 class="card-title">User List</h3>
    <div class="card-toolbar">
      <button class="btn btn-sm btn-primary" (click)="onAddUser()">
        <i class="bi bi-plus-circle"></i> Add User
      </button>
    </div>
  </div>

  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table align-middle table-row-dashed table-hover mb-0">
        <thead>
          <tr class="fw-bold ">
            <th class="min-w-100px">ID</th>
            <th class="min-w-100px">User ID</th>
            <th class="min-w-150px">User Name</th>
            <th class="min-w-120px text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of allUsers; let i = index" (dblclick)="onUpdate(user)">
            <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
            <td>{{ user.userID }}</td>
            <td>{{ user.userName }}</td>

           <td class="text-end">
    <div class="dropdown">
        <button
            class="btn btn-sm btn-light-primary btn-active-light-primary"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            (click)="toggleDropdown(i, $event)"
        >
            Actions
            <i class="bi bi-chevron-down ms-2"></i>
        </button>
        <ul
            class="dropdown-menu menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold fs-7 w-125px py-4 end-0"
            [ngClass]="{ 'show': isOpenAction === i, 'dropup': i + 1 > allUsers.length - 2 }"
        >
            <li>
                <a href="#" class="dropdown-item menu-link px-3" (click)="onUpdate(user)">
                    <i class="bi bi-pencil-square me-2"></i>
                    Edit
                </a>
            </li>
            <li>
                <a href="#" class="dropdown-item menu-link px-3" (click)="onAddProject(user)">
                    <i class="bi bi-folder-plus me-2"></i>
                    Add Project
                </a>
            </li>
            <li>
                <a href="#" class="dropdown-item menu-link px-3">
                    <i class="bi bi-trash me-2"></i>
                    Delete
                </a>
            </li>
        </ul>
    </div>
</td>
            </tr>
          <tr *ngIf="!allUsers || allUsers.length === 0">
            <td colspan="4" class="text-center text-muted py-5">
              No users found.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>